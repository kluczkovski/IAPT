<div class="d-flex flex-column mb-2" [formGroup]="form">

    <div formGroupName="longTermPhysicalHealth">
        
        <div class="row mb-2">
            <div class="col-md-6">
                <mat-form-field class="full-width-input">
                    <mat-label>Do you have a long-term physical Health conditions/s?</mat-label>
                    <mat-select  formControlName="hasClientLTPH" required>
                        <mat-option value="Yes">Yes</mat-option>
                        <mat-option value="No">No</mat-option>
                        <mat-option value="Declined">Declined</mat-option>
                    </mat-select>
                    <mat-error *ngIf="form.controls['longTermPhysicalHealth']controls['hasClientLTPH'].errors?.required">This field is mandatory</mat-error>
                </mat-form-field>
            </div>
        </div>

        <div *ngIf="form.get('longTermPhysicalHealth.hasClientLTPH').value=='Yes'">
            <div class="row mb-2">
                <div class="col-md-12">
                    <mat-form-field class="full-width-input">
                        <mat-label>Please provide details:</mat-label>
                        <textarea matInput #message maxlength="256" rows="3" formControlName="details"></textarea>
                        <mat-hint>eg. Heart Conditions, epilepsy, etc</mat-hint>
                        <mat-hint align="end">{{message.value.length}} / 256</mat-hint>     
                    </mat-form-field>
                </div>
            </div>
        </div>       

    </div>
</div>